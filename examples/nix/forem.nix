# forem â€” generated by onix. Do not edit.
{ pkgs ? import <nixpkgs> {}, ruby ? pkgs.ruby_3_4 }:
let
  buildGem = import ./build-gem.nix { inherit pkgs ruby; };
  buildGemByName = name:
    let
      versions = import (./ruby + "/${name}.nix");
      version = builtins.head (builtins.attrNames versions);
      spec = versions.${version};
    in buildGem (spec // { gemName = name; });
  gemConfig = import ./gem-config.nix {
    inherit pkgs ruby;
    overlayDir = ../overlays/ruby;
    rubyDir = ./ruby;
    buildGemFn = buildGemByName;
  };

  build = name: version:
    let
      versions = import (./ruby + "/${name}.nix");
      spec = versions.${version};
      config = gemConfig.${name} or {};
    in buildGem (spec // {
      gemName = name;
      nativeBuildInputs = config.deps or [];
      extconfFlags = config.extconfFlags or "";
      preBuild = config.preBuild or "";
      postBuild = config.postBuild or "";
    } // (if config ? buildPhase then { inherit (config) buildPhase; } else {})
      // (if config ? postInstall then { inherit (config) postInstall; } else {})
      // (if config ? skip then { inherit (config) skip; } else {})
      // (if config ? buildGems then { inherit (config) buildGems; } else {}));

  gems = {
    actioncable = build "actioncable" "7.0.8.7";
    actionmailbox = build "actionmailbox" "7.0.8.7";
    actionmailer = build "actionmailer" "7.0.8.7";
    actionpack = build "actionpack" "7.0.8.7";
    actiontext = build "actiontext" "7.0.8.7";
    actionview = build "actionview" "7.0.8.7";
    active_record_union = build "active_record_union" "1.3.0";
    activejob = build "activejob" "7.0.8.7";
    activemodel = build "activemodel" "7.0.8.7";
    activerecord = build "activerecord" "7.0.8.7";
    activestorage = build "activestorage" "7.0.8.7";
    activesupport = build "activesupport" "7.0.8.7";
    "acts-as-taggable-on" = build "acts-as-taggable-on" "10.0.0";
    acts_as_follower = build "acts_as_follower" "0.2.1";
    addressable = build "addressable" "2.8.7";
    ahoy_email = build "ahoy_email" "2.2.0";
    ahoy_matey = build "ahoy_matey" "5.0.2";
    algolia = build "algolia" "2.3.4";
    "algoliasearch-rails" = build "algoliasearch-rails" "2.3.2";
    amazing_print = build "amazing_print" "1.6.0";
    ancestry = build "ancestry" "4.3.3";
    anyway_config = build "anyway_config" "2.3.0";
    ast = build "ast" "2.4.2";
    "aws-eventstream" = build "aws-eventstream" "1.3.0";
    "aws-sigv4" = build "aws-sigv4" "1.8.0";
    aws_cf_signer = build "aws_cf_signer" "0.1.3";
    backport = build "backport" "1.2.0";
    base64 = build "base64" "0.2.0";
    bcrypt = build "bcrypt" "3.1.20";
    "benchmark-ips" = build "benchmark-ips" "2.10.0";
    better_errors = build "better_errors" "2.10.1";
    better_html = build "better_html" "2.0.2";
    bigdecimal = build "bigdecimal" "3.1.7";
    bindex = build "bindex" "0.8.1";
    blazer = build "blazer" "2.6.5";
    bootsnap = build "bootsnap" "1.18.3";
    brakeman = build "brakeman" "5.4.1";
    browser = build "browser" "5.3.1";
    "brpoplpush-redis_script" = build "brpoplpush-redis_script" "0.1.3";
    buftok = build "buftok" "0.2.0";
    builder = build "builder" "3.3.0";
    bullet = build "bullet" "7.1.6";
    "bundler-audit" = build "bundler-audit" "0.9.1";
    capybara = build "capybara" "3.37.1";
    carrierwave = build "carrierwave" "2.2.6";
    "carrierwave-bombshelter" = build "carrierwave-bombshelter" "0.2.2";
    chartkick = build "chartkick" "4.2.1";
    cld3 = build "cld3" "3.6.0";
    cloudinary = build "cloudinary" "1.29.0";
    coderay = build "coderay" "1.1.3";
    "coffee-rails" = build "coffee-rails" "5.0.0";
    "coffee-script" = build "coffee-script" "2.4.1";
    "coffee-script-source" = build "coffee-script-source" "1.12.2";
    "concurrent-ruby" = build "concurrent-ruby" "1.3.4";
    connection_pool = build "connection_pool" "2.4.1";
    counter_culture = build "counter_culture" "3.5.3";
    countries = build "countries" "5.7.1";
    crack = build "crack" "1.0.0";
    crass = build "crass" "1.0.6";
    cuprite = build "cuprite" "0.15";
    "cypress-rails" = build "cypress-rails" "0.7.0";
    dante = build "dante" "0.2.0";
    "datadog-ci" = build "datadog-ci" "0.3.0";
    ddtrace = build "ddtrace" "1.16.2";
    dead_end = build "dead_end" "4.0.0";
    "debase-ruby_core_source" = build "debase-ruby_core_source" "3.2.2";
    debug = build "debug" "1.9.2";
    derailed_benchmarks = build "derailed_benchmarks" "2.1.2";
    device_detector = build "device_detector" "1.1.1";
    devise = build "devise" "4.9.4";
    devise_invitable = build "devise_invitable" "2.0.9";
    "diff-lcs" = build "diff-lcs" "1.5.1";
    docile = build "docile" "1.4.0";
    "dogstatsd-ruby" = build "dogstatsd-ruby" "5.6.1";
    domain_name = build "domain_name" "0.6.20240107";
    dotenv = build "dotenv" "2.8.1";
    "dotenv-rails" = build "dotenv-rails" "2.8.1";
    e2mmap = build "e2mmap" "0.1.0";
    easy_translate = build "easy_translate" "0.5.1";
    email_validator = build "email_validator" "2.2.4";
    emoji_regex = build "emoji_regex" "3.2.3";
    equalizer = build "equalizer" "0.0.11";
    erb_lint = build "erb_lint" "0.5.0";
    erubi = build "erubi" "1.13.1";
    "et-orbi" = build "et-orbi" "1.2.11";
    excon = build "excon" "0.104.0";
    execjs = build "execjs" "2.9.1";
    exifr = build "exifr" "1.4.0";
    factory_bot = build "factory_bot" "6.4.5";
    factory_bot_rails = build "factory_bot_rails" "6.4.3";
    faker = build "faker" "3.5.1";
    fakeredis = build "fakeredis" "0.8.0";
    faraday = build "faraday" "2.9.0";
    "faraday-cookie_jar" = build "faraday-cookie_jar" "0.0.7";
    "faraday-encoding" = build "faraday-encoding" "0.0.5";
    "faraday-follow_redirects" = build "faraday-follow_redirects" "0.3.0";
    "faraday-gzip" = build "faraday-gzip" "1.0.0";
    "faraday-http-cache" = build "faraday-http-cache" "2.5.0";
    "faraday-net_http" = build "faraday-net_http" "3.1.0";
    "faraday-net_http_persistent" = build "faraday-net_http_persistent" "2.1.0";
    "faraday-retry" = build "faraday-retry" "2.1.0";
    fastimage = build "fastimage" "2.3.1";
    fastly = build "fastly" "3.0.2";
    feedjira = build "feedjira" "3.2.3";
    ferrum = build "ferrum" "0.14";
    ffi = build "ffi" "1.16.3";
    "ffi-compiler" = build "ffi-compiler" "1.0.1";
    field_test = build "field_test" "0.6.0";
    flipper = build "flipper" "0.25.4";
    "flipper-active_record" = build "flipper-active_record" "0.25.4";
    "flipper-active_support_cache_store" = build "flipper-active_support_cache_store" "0.25.4";
    "flipper-ui" = build "flipper-ui" "0.25.4";
    "fog-aws" = build "fog-aws" "3.21.0";
    "fog-core" = build "fog-core" "2.3.0";
    "fog-json" = build "fog-json" "1.2.0";
    "fog-xml" = build "fog-xml" "0.1.4";
    formatador = build "formatador" "1.1.0";
    front_matter_parser = build "front_matter_parser" "1.0.1";
    fugit = build "fugit" "1.11.1";
    gemoji = build "gemoji" "4.1.0";
    get_process_mem = build "get_process_mem" "0.2.7";
    gibbon = build "gibbon" "3.5.0";
    globalid = build "globalid" "1.2.1";
    "google-protobuf" = build "google-protobuf" "3.25.5";
    guard = build "guard" "2.18.1";
    "guard-compat" = build "guard-compat" "1.2.1";
    "guard-rspec" = build "guard-rspec" "4.7.3";
    hairtrigger = build "hairtrigger" "1.1.1";
    hashdiff = build "hashdiff" "1.1.0";
    hashie = build "hashie" "5.0.0";
    heapy = build "heapy" "0.2.0";
    highline = build "highline" "2.1.0";
    hkdf = build "hkdf" "0.3.0";
    honeybadger = build "honeybadger" "4.12.2";
    "honeycomb-beeline" = build "honeycomb-beeline" "2.11.0";
    html_truncator = build "html_truncator" "0.4.2";
    http = build "http" "4.4.1";
    "http-2" = build "http-2" "0.11.0";
    "http-accept" = build "http-accept" "1.7.0";
    "http-cookie" = build "http-cookie" "1.0.5";
    "http-form_data" = build "http-form_data" "2.3.0";
    "http-parser" = build "http-parser" "1.2.3";
    "http_parser.rb" = build "http_parser.rb" "0.6.0";
    httparty = build "httparty" "0.21.0";
    httpclient = build "httpclient" "2.8.3";
    hypershield = build "hypershield" "0.2.2";
    i18n = build "i18n" "1.14.6";
    "i18n-js" = build "i18n-js" "3.9.2";
    "i18n-tasks" = build "i18n-tasks" "1.0.13";
    image_processing = build "image_processing" "1.12.2";
    imgproxy = build "imgproxy" "2.1.0";
    inline_svg = build "inline_svg" "1.9.0";
    jaro_winkler = build "jaro_winkler" "1.5.6";
    jbuilder = build "jbuilder" "2.11.5";
    "jquery-fileupload-rails" = build "jquery-fileupload-rails" "0.4.7";
    "js-routes" = build "js-routes" "2.2.8";
    "jsbundling-rails" = build "jsbundling-rails" "1.3.0";
    "json-schema" = build "json-schema" "2.8.1";
    "jsonapi-serializer" = build "jsonapi-serializer" "2.2.0";
    jwt = build "jwt" "2.8.1";
    kaminari = build "kaminari" "1.2.2";
    "kaminari-actionview" = build "kaminari-actionview" "1.2.2";
    "kaminari-activerecord" = build "kaminari-activerecord" "1.2.2";
    "kaminari-core" = build "kaminari-core" "1.2.2";
    katex = build "katex" "0.9.0";
    knapsack_pro = build "knapsack_pro" "5.7.0";
    kramdown = build "kramdown" "2.4.0";
    "kramdown-parser-gfm" = build "kramdown-parser-gfm" "1.1.0";
    "language_server-protocol" = build "language_server-protocol" "3.17.0.3";
    launchy = build "launchy" "2.5.2";
    libdatadog = build "libdatadog" "5.0.0.1.0";
    libddwaf = build "libddwaf" "1.14.0.0.0";
    libhoney = build "libhoney" "2.2.0";
    liquid = build "liquid" "5.4.0";
    listen = build "listen" "3.9.0";
    loofah = build "loofah" "2.24.0";
    lumberjack = build "lumberjack" "1.2.9";
    mail = build "mail" "2.8.1";
    marcel = build "marcel" "1.0.4";
    matrix = build "matrix" "0.4.2";
    memoizable = build "memoizable" "0.4.2";
    memory_profiler = build "memory_profiler" "1.0.1";
    metainspector = build "metainspector" "5.15.0";
    method_source = build "method_source" "1.1.0";
    "mime-types" = build "mime-types" "3.5.2";
    "mime-types-data" = build "mime-types-data" "3.2024.0305";
    mini_histogram = build "mini_histogram" "0.3.1";
    mini_magick = build "mini_magick" "4.13.2";
    mini_mime = build "mini_mime" "1.1.5";
    mini_portile2 = build "mini_portile2" "2.8.8";
    minitest = build "minitest" "5.25.4";
    modis = build "modis" "4.0.1";
    msgpack = build "msgpack" "1.7.2";
    multi_json = build "multi_json" "1.15.0";
    multi_xml = build "multi_xml" "0.7.1";
    "multipart-post" = build "multipart-post" "2.2.3";
    nakayoshi_fork = build "nakayoshi_fork" "0.0.4";
    naught = build "naught" "1.1.0";
    nenv = build "nenv" "0.3.0";
    nesty = build "nesty" "1.0.2";
    "net-http-persistent" = build "net-http-persistent" "4.0.1";
    "net-http2" = build "net-http2" "0.18.4";
    "net-imap" = build "net-imap" "0.4.10";
    "net-pop" = build "net-pop" "0.1.2";
    "net-smtp" = build "net-smtp" "0.4.0.1";
    netrc = build "netrc" "0.11.0";
    nio4r = build "nio4r" "2.7.0";
    nokogiri = build "nokogiri" "1.16.5";
    notiffany = build "notiffany" "0.1.3";
    oauth = build "oauth" "0.5.10";
    oauth2 = build "oauth2" "2.0.9";
    octokit = build "octokit" "5.6.1";
    oj = build "oj" "3.16.3";
    omniauth = build "omniauth" "2.1.2";
    "omniauth-apple" = build "omniauth-apple" "1.2.2";
    "omniauth-facebook" = build "omniauth-facebook" "9.0.0";
    "omniauth-github" = build "omniauth-github" "2.0.1";
    "omniauth-google-oauth2" = build "omniauth-google-oauth2" "1.1.2";
    "omniauth-oauth" = build "omniauth-oauth" "1.2.0";
    "omniauth-oauth2" = build "omniauth-oauth2" "1.8.0";
    "omniauth-rails_csrf_protection" = build "omniauth-rails_csrf_protection" "1.0.2";
    "omniauth-twitter" = build "omniauth-twitter" "1.4.0";
    orm_adapter = build "orm_adapter" "0.5.0";
    parallel = build "parallel" "1.24.0";
    parser = build "parser" "3.3.1.0";
    pg = build "pg" "1.5.6";
    pg_query = build "pg_query" "4.2.3";
    pg_search = build "pg_search" "2.3.6";
    pghero = build "pghero" "3.6.1";
    pry = build "pry" "0.14.2";
    "pry-rails" = build "pry-rails" "0.3.9";
    public_suffix = build "public_suffix" "6.0.1";
    puma = build "puma" "5.6.9";
    pundit = build "pundit" "2.3.1";
    "pundit-matchers" = build "pundit-matchers" "1.9.0";
    raabro = build "raabro" "1.4.0";
    racc = build "racc" "1.8.1";
    rack = build "rack" "2.2.10";
    "rack-attack" = build "rack-attack" "6.7.0";
    "rack-cors" = build "rack-cors" "1.1.1";
    "rack-host-redirect" = build "rack-host-redirect" "1.3.0";
    "rack-protection" = build "rack-protection" "3.2.0";
    "rack-session" = build "rack-session" "1.0.2";
    "rack-test" = build "rack-test" "2.2.0";
    "rack-timeout" = build "rack-timeout" "0.6.3";
    rails = build "rails" "7.0.8.7";
    "rails-controller-testing" = build "rails-controller-testing" "1.0.5";
    "rails-dom-testing" = build "rails-dom-testing" "2.2.0";
    "rails-html-sanitizer" = build "rails-html-sanitizer" "1.6.1";
    "rails-i18n" = build "rails-i18n" "7.0.8";
    railties = build "railties" "7.0.8.7";
    rainbow = build "rainbow" "3.1.1";
    rake = build "rake" "13.2.1";
    ransack = build "ransack" "3.2.1";
    "rb-fsevent" = build "rb-fsevent" "0.11.2";
    "rb-inotify" = build "rb-inotify" "0.10.1";
    rbs = build "rbs" "2.8.4";
    recaptcha = build "recaptcha" "5.16.0";
    redcarpet = build "redcarpet" "3.6.0";
    redis = build "redis" "4.7.1";
    "redis-actionpack" = build "redis-actionpack" "5.4.0";
    "redis-rack" = build "redis-rack" "3.0.0";
    "redis-store" = build "redis-store" "1.10.0";
    regexp_parser = build "regexp_parser" "2.9.0";
    request_store = build "request_store" "1.6.0";
    responders = build "responders" "3.1.1";
    "rest-client" = build "rest-client" "2.1.0";
    reverse_markdown = build "reverse_markdown" "2.1.1";
    rexml = build "rexml" "3.4.0";
    rice = build "rice" "4.1.0";
    rolify = build "rolify" "6.0.1";
    rouge = build "rouge" "4.2.1";
    rpush = build "rpush" "7.0.1";
    "rpush-redis" = build "rpush-redis" "1.2.0";
    rspec = build "rspec" "3.12.0";
    "rspec-core" = build "rspec-core" "3.12.3";
    "rspec-expectations" = build "rspec-expectations" "3.12.4";
    "rspec-mocks" = build "rspec-mocks" "3.12.7";
    "rspec-rails" = build "rspec-rails" "6.1.1";
    "rspec-retry" = build "rspec-retry" "0.6.2";
    "rspec-support" = build "rspec-support" "3.12.2";
    rspec_junit_formatter = build "rspec_junit_formatter" "0.6.0";
    rss = build "rss" "0.2.9";
    "rswag-specs" = build "rswag-specs" "2.5.1";
    rubocop = build "rubocop" "1.63.4";
    "rubocop-ast" = build "rubocop-ast" "1.31.2";
    "rubocop-capybara" = build "rubocop-capybara" "2.20.0";
    "rubocop-factory_bot" = build "rubocop-factory_bot" "2.25.1";
    "rubocop-performance" = build "rubocop-performance" "1.21.0";
    "rubocop-rails" = build "rubocop-rails" "2.24.1";
    "rubocop-rspec" = build "rubocop-rspec" "2.29.1";
    "rubocop-rspec_rails" = build "rubocop-rspec_rails" "2.28.3";
    "ruby-next-core" = build "ruby-next-core" "0.15.2";
    "ruby-prof" = build "ruby-prof" "1.7.0";
    "ruby-progressbar" = build "ruby-progressbar" "1.13.0";
    "ruby-statistics" = build "ruby-statistics" "3.0.0";
    "ruby-vips" = build "ruby-vips" "2.2.1";
    ruby2ruby = build "ruby2ruby" "2.5.0";
    ruby_parser = build "ruby_parser" "3.21.0";
    rubyzip = build "rubyzip" "2.3.2";
    s3_direct_upload = build "s3_direct_upload" "0.1.7";
    safely_block = build "safely_block" "0.4.0";
    sanitize = build "sanitize" "6.0.2";
    sass = build "sass" "3.7.4";
    "sass-listen" = build "sass-listen" "4.0.0";
    "sass-rails" = build "sass-rails" "6.0.0";
    sassc = build "sassc" "2.4.0";
    "sassc-rails" = build "sassc-rails" "2.1.2";
    sawyer = build "sawyer" "0.9.2";
    "sax-machine" = build "sax-machine" "1.3.2";
    sexp_processor = build "sexp_processor" "4.17.1";
    shellany = build "shellany" "0.0.1";
    "shoulda-matchers" = build "shoulda-matchers" "5.3.0";
    sidekiq = build "sidekiq" "6.5.12";
    "sidekiq-cron" = build "sidekiq-cron" "1.12.0";
    "sidekiq-unique-jobs" = build "sidekiq-unique-jobs" "7.1.33";
    simple_oauth = build "simple_oauth" "0.3.1";
    simplecov = build "simplecov" "0.21.2";
    "simplecov-html" = build "simplecov-html" "0.12.3";
    simplecov_json_formatter = build "simplecov_json_formatter" "0.1.4";
    "slack-notifier" = build "slack-notifier" "2.4.0";
    smart_properties = build "smart_properties" "1.17.0";
    snaky_hash = build "snaky_hash" "2.0.1";
    solargraph = build "solargraph" "0.50.0";
    "solargraph-rails" = build "solargraph-rails" "0.3.1";
    sprockets = build "sprockets" "4.1.1";
    "sprockets-rails" = build "sprockets-rails" "3.4.2";
    ssrf_filter = build "ssrf_filter" "1.1.2";
    stackprof = build "stackprof" "0.2.26";
    sterile = build "sterile" "1.0.26";
    stripe = build "stripe" "5.55.0";
    "stripe-ruby-mock" = build "stripe-ruby-mock" "3.1.0.rc3";
    strong_migrations = build "strong_migrations" "1.8.0";
    "terminal-table" = build "terminal-table" "3.0.2";
    terser = build "terser" "1.2.2";
    "test-prof" = build "test-prof" "1.3.3";
    thor = build "thor" "1.3.1";
    thread = build "thread" "0.2.2";
    thread_safe = build "thread_safe" "0.3.6";
    tilt = build "tilt" "2.3.0";
    timecop = build "timecop" "0.9.8";
    twitter = build "twitter" "7.0.0";
    tzinfo = build "tzinfo" "2.0.6";
    unaccent = build "unaccent" "0.4.0";
    "unicode-display_width" = build "unicode-display_width" "2.5.0";
    uniform_notifier = build "uniform_notifier" "1.16.0";
    validate_url = build "validate_url" "1.0.15";
    vault = build "vault" "0.18.2";
    vcr = build "vcr" "6.3.1";
    version_gem = build "version_gem" "1.1.4";
    warden = build "warden" "1.2.9";
    warning = build "warning" "1.3.0";
    wcag_color_contrast = build "wcag_color_contrast" "0.1.0";
    "web-console" = build "web-console" "4.2.1";
    webmock = build "webmock" "3.23.0";
    webpush = build "webpush" "1.1.0";
    webrick = build "webrick" "1.8.2";
    "websocket-driver" = build "websocket-driver" "0.7.6";
    "websocket-extensions" = build "websocket-extensions" "0.1.5";
    with_model = build "with_model" "2.1.7";
    xpath = build "xpath" "3.2.0";
    yard = build "yard" "0.9.36";
    "yard-activerecord" = build "yard-activerecord" "0.0.16";
    "yard-activesupport-concern" = build "yard-activesupport-concern" "0.0.1";
    zeitwerk = build "zeitwerk" "2.6.13";
    zonebie = build "zonebie" "0.6.1";
  };

  bundlePath = pkgs.buildEnv {
    name = "forem-bundle";
    paths = builtins.attrValues gems;
  };
in gems // {
  inherit bundlePath;
  devShell = { buildInputs ? [], shellHook ? "", ... }@args:
    pkgs.mkShell (builtins.removeAttrs args ["buildInputs" "shellHook"] // {
      name = "forem-devshell";
      buildInputs = [ ruby ] ++ buildInputs;
      shellHook = ''
        export BUNDLE_PATH="${bundlePath}"
        export BUNDLE_GEMFILE="''${BUNDLE_GEMFILE:-$PWD/Gemfile}"
        export GEM_PATH="${bundlePath}/${ruby.gemPath}''${GEM_PATH:+:$GEM_PATH}"
      '' + shellHook;
    });
}
