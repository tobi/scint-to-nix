# tsdown-starter â€” generated by onix. Do not edit.
{ pkgs ? import <nixpkgs> { config = {}; overlays = []; }, nodejs ? pkgs.nodejs_22 }:
let
  buildNpm = import ./build-npm.nix { inherit pkgs nodejs; };
  buildPackageByName = name:
    let
      versions = import (./node + "/${name}.nix");
      version = pkgs.lib.last (builtins.attrNames versions);
      spec = versions.${version};
    in buildNpm (spec // { pkgName = name; });
  npmConfig = import ./npm-config.nix {
    inherit pkgs nodejs;
    overlayDir = ../overlays/node;
    nodeDir = ./node;
    buildPackageFn = buildPackageByName;
  };

  build = name: version:
    let
      safeName = builtins.replaceStrings ["/" "@"] ["--" ""] name;
      versions = import (./node + "/${safeName}.nix");
      spec = versions.${version};
      config = npmConfig.${name} or {};
    in buildNpm (spec // {
      pkgName = name;
      hasNative = (spec.hasNative or false) || (config ? deps && config.deps != []);
      nativeBuildInputs = config.deps or [];
      buildFlags = config.buildFlags or "";
      beforeBuild = config.beforeBuild or "";
      afterBuild = config.afterBuild or "";
    } // (if config ? buildPhase then { inherit (config) buildPhase; } else {})
      // (if config ? postInstall then { inherit (config) postInstall; } else {})
      // (if config ? skip then { inherit (config) skip; } else {})
      // (if config ? buildPackages then { inherit (config) buildPackages; } else {}));

  packages = {
    "@babel/generator@8.0.0-rc.1" = build "@babel/generator" "8.0.0-rc.1";
    "@babel/helper-string-parser@8.0.0-rc.1" = build "@babel/helper-string-parser" "8.0.0-rc.1";
    "@babel/helper-validator-identifier@8.0.0-rc.1" = build "@babel/helper-validator-identifier" "8.0.0-rc.1";
    "@babel/parser@8.0.0-rc.1" = build "@babel/parser" "8.0.0-rc.1";
    "@babel/types@8.0.0-rc.1" = build "@babel/types" "8.0.0-rc.1";
    "@emnapi/core@1.8.1" = build "@emnapi/core" "1.8.1";
    "@emnapi/runtime@1.8.1" = build "@emnapi/runtime" "1.8.1";
    "@emnapi/wasi-threads@1.1.0" = build "@emnapi/wasi-threads" "1.1.0";
    "@jridgewell/gen-mapping@0.3.13" = build "@jridgewell/gen-mapping" "0.3.13";
    "@jridgewell/resolve-uri@3.1.2" = build "@jridgewell/resolve-uri" "3.1.2";
    "@jridgewell/sourcemap-codec@1.5.5" = build "@jridgewell/sourcemap-codec" "1.5.5";
    "@jridgewell/trace-mapping@0.3.31" = build "@jridgewell/trace-mapping" "0.3.31";
    "@napi-rs/wasm-runtime@1.1.1" = build "@napi-rs/wasm-runtime" "1.1.1";
    "@oxc-project/types@0.112.0" = build "@oxc-project/types" "0.112.0";
    "@quansync/fs@1.0.0" = build "@quansync/fs" "1.0.0";
    "@rolldown/binding-android-arm64@1.0.0-rc.3" = build "@rolldown/binding-android-arm64" "1.0.0-rc.3";
    "@rolldown/binding-darwin-arm64@1.0.0-rc.3" = build "@rolldown/binding-darwin-arm64" "1.0.0-rc.3";
    "@rolldown/binding-darwin-x64@1.0.0-rc.3" = build "@rolldown/binding-darwin-x64" "1.0.0-rc.3";
    "@rolldown/binding-freebsd-x64@1.0.0-rc.3" = build "@rolldown/binding-freebsd-x64" "1.0.0-rc.3";
    "@rolldown/binding-linux-arm-gnueabihf@1.0.0-rc.3" = build "@rolldown/binding-linux-arm-gnueabihf" "1.0.0-rc.3";
    "@rolldown/binding-linux-arm64-gnu@1.0.0-rc.3" = build "@rolldown/binding-linux-arm64-gnu" "1.0.0-rc.3";
    "@rolldown/binding-linux-arm64-musl@1.0.0-rc.3" = build "@rolldown/binding-linux-arm64-musl" "1.0.0-rc.3";
    "@rolldown/binding-linux-x64-gnu@1.0.0-rc.3" = build "@rolldown/binding-linux-x64-gnu" "1.0.0-rc.3";
    "@rolldown/binding-linux-x64-musl@1.0.0-rc.3" = build "@rolldown/binding-linux-x64-musl" "1.0.0-rc.3";
    "@rolldown/binding-openharmony-arm64@1.0.0-rc.3" = build "@rolldown/binding-openharmony-arm64" "1.0.0-rc.3";
    "@rolldown/binding-wasm32-wasi@1.0.0-rc.3" = build "@rolldown/binding-wasm32-wasi" "1.0.0-rc.3";
    "@rolldown/binding-win32-arm64-msvc@1.0.0-rc.3" = build "@rolldown/binding-win32-arm64-msvc" "1.0.0-rc.3";
    "@rolldown/binding-win32-x64-msvc@1.0.0-rc.3" = build "@rolldown/binding-win32-x64-msvc" "1.0.0-rc.3";
    "@rolldown/pluginutils@1.0.0-rc.3" = build "@rolldown/pluginutils" "1.0.0-rc.3";
    "@tybys/wasm-util@0.10.1" = build "@tybys/wasm-util" "0.10.1";
    "@types/estree@1.0.8" = build "@types/estree" "1.0.8";
    "@types/jsesc@2.5.1" = build "@types/jsesc" "2.5.1";
    "ansis@4.2.0" = build "ansis" "4.2.0";
    "ast-kit@3.0.0-beta.1" = build "ast-kit" "3.0.0-beta.1";
    "birpc@4.0.0" = build "birpc" "4.0.0";
    "cac@6.7.14" = build "cac" "6.7.14";
    "defu@6.1.4" = build "defu" "6.1.4";
    "dts-resolver@2.1.3" = build "dts-resolver" "2.1.3";
    "empathic@2.0.0" = build "empathic" "2.0.0";
    "estree-walker@3.0.3" = build "estree-walker" "3.0.3";
    "fdir@6.5.0" = build "fdir" "6.5.0";
    "get-tsconfig@4.13.6" = build "get-tsconfig" "4.13.6";
    "hookable@6.0.1" = build "hookable" "6.0.1";
    "import-without-cache@0.2.5" = build "import-without-cache" "0.2.5";
    "jsesc@3.1.0" = build "jsesc" "3.1.0";
    "obug@2.1.1" = build "obug" "2.1.1";
    "pathe@2.0.3" = build "pathe" "2.0.3";
    "picomatch@4.0.3" = build "picomatch" "4.0.3";
    "quansync@1.0.0" = build "quansync" "1.0.0";
    "resolve-pkg-maps@1.0.0" = build "resolve-pkg-maps" "1.0.0";
    "rolldown@1.0.0-rc.3" = build "rolldown" "1.0.0-rc.3";
    "rolldown-plugin-dts@0.22.1" = build "rolldown-plugin-dts" "0.22.1";
    "semver@7.7.4" = build "semver" "7.7.4";
    "tinyexec@1.0.2" = build "tinyexec" "1.0.2";
    "tinyglobby@0.2.15" = build "tinyglobby" "0.2.15";
    "tree-kill@1.2.2" = build "tree-kill" "1.2.2";
    "tsdown@0.20.3" = build "tsdown" "0.20.3";
    "tslib@2.8.1" = build "tslib" "2.8.1";
    "typescript@5.9.3" = build "typescript" "5.9.3";
    "unconfig-core@7.4.2" = build "unconfig-core" "7.4.2";
    "unrun@0.2.27" = build "unrun" "0.2.27";
  };

  packageDir = pkgs.runCommand "tsdown-starter-packages" {} ''
    mkdir -p $out
    mkdir -p "$out/@babel"
    mkdir -p "$out/@emnapi"
    mkdir -p "$out/@jridgewell"
    mkdir -p "$out/@napi-rs"
    mkdir -p "$out/@oxc-project"
    mkdir -p "$out/@quansync"
    mkdir -p "$out/@rolldown"
    mkdir -p "$out/@tybys"
    mkdir -p "$out/@types"
    ln -s ${packages."@babel/generator@8.0.0-rc.1"} "$out/@babel/generator@8.0.0-rc.1"
    ln -s ${packages."@babel/helper-string-parser@8.0.0-rc.1"} "$out/@babel/helper-string-parser@8.0.0-rc.1"
    ln -s ${packages."@babel/helper-validator-identifier@8.0.0-rc.1"} "$out/@babel/helper-validator-identifier@8.0.0-rc.1"
    ln -s ${packages."@babel/parser@8.0.0-rc.1"} "$out/@babel/parser@8.0.0-rc.1"
    ln -s ${packages."@babel/types@8.0.0-rc.1"} "$out/@babel/types@8.0.0-rc.1"
    ln -s ${packages."@emnapi/core@1.8.1"} "$out/@emnapi/core@1.8.1"
    ln -s ${packages."@emnapi/runtime@1.8.1"} "$out/@emnapi/runtime@1.8.1"
    ln -s ${packages."@emnapi/wasi-threads@1.1.0"} "$out/@emnapi/wasi-threads@1.1.0"
    ln -s ${packages."@jridgewell/gen-mapping@0.3.13"} "$out/@jridgewell/gen-mapping@0.3.13"
    ln -s ${packages."@jridgewell/resolve-uri@3.1.2"} "$out/@jridgewell/resolve-uri@3.1.2"
    ln -s ${packages."@jridgewell/sourcemap-codec@1.5.5"} "$out/@jridgewell/sourcemap-codec@1.5.5"
    ln -s ${packages."@jridgewell/trace-mapping@0.3.31"} "$out/@jridgewell/trace-mapping@0.3.31"
    ln -s ${packages."@napi-rs/wasm-runtime@1.1.1"} "$out/@napi-rs/wasm-runtime@1.1.1"
    ln -s ${packages."@oxc-project/types@0.112.0"} "$out/@oxc-project/types@0.112.0"
    ln -s ${packages."@quansync/fs@1.0.0"} "$out/@quansync/fs@1.0.0"
    ln -s ${packages."@rolldown/binding-android-arm64@1.0.0-rc.3"} "$out/@rolldown/binding-android-arm64@1.0.0-rc.3"
    ln -s ${packages."@rolldown/binding-darwin-arm64@1.0.0-rc.3"} "$out/@rolldown/binding-darwin-arm64@1.0.0-rc.3"
    ln -s ${packages."@rolldown/binding-darwin-x64@1.0.0-rc.3"} "$out/@rolldown/binding-darwin-x64@1.0.0-rc.3"
    ln -s ${packages."@rolldown/binding-freebsd-x64@1.0.0-rc.3"} "$out/@rolldown/binding-freebsd-x64@1.0.0-rc.3"
    ln -s ${packages."@rolldown/binding-linux-arm-gnueabihf@1.0.0-rc.3"} "$out/@rolldown/binding-linux-arm-gnueabihf@1.0.0-rc.3"
    ln -s ${packages."@rolldown/binding-linux-arm64-gnu@1.0.0-rc.3"} "$out/@rolldown/binding-linux-arm64-gnu@1.0.0-rc.3"
    ln -s ${packages."@rolldown/binding-linux-arm64-musl@1.0.0-rc.3"} "$out/@rolldown/binding-linux-arm64-musl@1.0.0-rc.3"
    ln -s ${packages."@rolldown/binding-linux-x64-gnu@1.0.0-rc.3"} "$out/@rolldown/binding-linux-x64-gnu@1.0.0-rc.3"
    ln -s ${packages."@rolldown/binding-linux-x64-musl@1.0.0-rc.3"} "$out/@rolldown/binding-linux-x64-musl@1.0.0-rc.3"
    ln -s ${packages."@rolldown/binding-openharmony-arm64@1.0.0-rc.3"} "$out/@rolldown/binding-openharmony-arm64@1.0.0-rc.3"
    ln -s ${packages."@rolldown/binding-wasm32-wasi@1.0.0-rc.3"} "$out/@rolldown/binding-wasm32-wasi@1.0.0-rc.3"
    ln -s ${packages."@rolldown/binding-win32-arm64-msvc@1.0.0-rc.3"} "$out/@rolldown/binding-win32-arm64-msvc@1.0.0-rc.3"
    ln -s ${packages."@rolldown/binding-win32-x64-msvc@1.0.0-rc.3"} "$out/@rolldown/binding-win32-x64-msvc@1.0.0-rc.3"
    ln -s ${packages."@rolldown/pluginutils@1.0.0-rc.3"} "$out/@rolldown/pluginutils@1.0.0-rc.3"
    ln -s ${packages."@tybys/wasm-util@0.10.1"} "$out/@tybys/wasm-util@0.10.1"
    ln -s ${packages."@types/estree@1.0.8"} "$out/@types/estree@1.0.8"
    ln -s ${packages."@types/jsesc@2.5.1"} "$out/@types/jsesc@2.5.1"
    ln -s ${packages."ansis@4.2.0"} "$out/ansis@4.2.0"
    ln -s ${packages."ast-kit@3.0.0-beta.1"} "$out/ast-kit@3.0.0-beta.1"
    ln -s ${packages."birpc@4.0.0"} "$out/birpc@4.0.0"
    ln -s ${packages."cac@6.7.14"} "$out/cac@6.7.14"
    ln -s ${packages."defu@6.1.4"} "$out/defu@6.1.4"
    ln -s ${packages."dts-resolver@2.1.3"} "$out/dts-resolver@2.1.3"
    ln -s ${packages."empathic@2.0.0"} "$out/empathic@2.0.0"
    ln -s ${packages."estree-walker@3.0.3"} "$out/estree-walker@3.0.3"
    ln -s ${packages."fdir@6.5.0"} "$out/fdir@6.5.0"
    ln -s ${packages."get-tsconfig@4.13.6"} "$out/get-tsconfig@4.13.6"
    ln -s ${packages."hookable@6.0.1"} "$out/hookable@6.0.1"
    ln -s ${packages."import-without-cache@0.2.5"} "$out/import-without-cache@0.2.5"
    ln -s ${packages."jsesc@3.1.0"} "$out/jsesc@3.1.0"
    ln -s ${packages."obug@2.1.1"} "$out/obug@2.1.1"
    ln -s ${packages."pathe@2.0.3"} "$out/pathe@2.0.3"
    ln -s ${packages."picomatch@4.0.3"} "$out/picomatch@4.0.3"
    ln -s ${packages."quansync@1.0.0"} "$out/quansync@1.0.0"
    ln -s ${packages."resolve-pkg-maps@1.0.0"} "$out/resolve-pkg-maps@1.0.0"
    ln -s ${packages."rolldown@1.0.0-rc.3"} "$out/rolldown@1.0.0-rc.3"
    ln -s ${packages."rolldown-plugin-dts@0.22.1"} "$out/rolldown-plugin-dts@0.22.1"
    ln -s ${packages."semver@7.7.4"} "$out/semver@7.7.4"
    ln -s ${packages."tinyexec@1.0.2"} "$out/tinyexec@1.0.2"
    ln -s ${packages."tinyglobby@0.2.15"} "$out/tinyglobby@0.2.15"
    ln -s ${packages."tree-kill@1.2.2"} "$out/tree-kill@1.2.2"
    ln -s ${packages."tsdown@0.20.3"} "$out/tsdown@0.20.3"
    ln -s ${packages."tslib@2.8.1"} "$out/tslib@2.8.1"
    ln -s ${packages."typescript@5.9.3"} "$out/typescript@5.9.3"
    ln -s ${packages."unconfig-core@7.4.2"} "$out/unconfig-core@7.4.2"
    ln -s ${packages."unrun@0.2.27"} "$out/unrun@0.2.27"
  '';
in packages // { inherit packageDir; }
