# chatwoot â€” generated by onix. Do not edit.
{ pkgs ? import <nixpkgs> {}, ruby ? pkgs.ruby_3_4 }:
let
  buildGem = import ./build-gem.nix { inherit pkgs ruby; };
  buildGemByName = name:
    let
      versions = import (./ruby + "/${name}.nix");
      version = builtins.head (builtins.attrNames versions);
      spec = versions.${version};
    in buildGem (spec // { gemName = name; });
  gemConfig = import ./gem-config.nix {
    inherit pkgs ruby;
    overlayDir = ../overlays/ruby;
    rubyDir = ./ruby;
    buildGemFn = buildGemByName;
  };

  build = name: version:
    let
      versions = import (./ruby + "/${name}.nix");
      spec = versions.${version};
      config = gemConfig.${name} or {};
    in buildGem (spec // {
      gemName = name;
      nativeBuildInputs = config.deps or [];
      extconfFlags = config.extconfFlags or "";
      preBuild = config.preBuild or "";
      postBuild = config.postBuild or "";
    } // (if config ? buildPhase then { inherit (config) buildPhase; } else {})
      // (if config ? postInstall then { inherit (config) postInstall; } else {})
      // (if config ? skip then { inherit (config) skip; } else {})
      // (if config ? buildGems then { inherit (config) buildGems; } else {}));

  gems = {
    actioncable = build "actioncable" "7.1.5.2";
    actionmailbox = build "actionmailbox" "7.1.5.2";
    actionmailer = build "actionmailer" "7.1.5.2";
    actionpack = build "actionpack" "7.1.5.2";
    actiontext = build "actiontext" "7.1.5.2";
    actionview = build "actionview" "7.1.5.2";
    active_record_query_trace = build "active_record_query_trace" "1.8";
    activejob = build "activejob" "7.1.5.2";
    activemodel = build "activemodel" "7.1.5.2";
    activerecord = build "activerecord" "7.1.5.2";
    "activerecord-import" = build "activerecord-import" "2.1.0";
    activestorage = build "activestorage" "7.1.5.2";
    activesupport = build "activesupport" "7.1.5.2";
    "acts-as-taggable-on" = build "acts-as-taggable-on" "12.0.0";
    addressable = build "addressable" "2.8.7";
    administrate = build "administrate" "0.20.1";
    "administrate-field-active_storage" = build "administrate-field-active_storage" "1.0.3";
    "administrate-field-belongs_to_search" = build "administrate-field-belongs_to_search" "0.9.0";
    "ai-agents" = build "ai-agents" "0.7.0";
    annotaterb = build "annotaterb" "4.20.0";
    ast = build "ast" "2.4.3";
    attr_extras = build "attr_extras" "7.1.0";
    audited = build "audited" "5.4.1";
    "aws-actionmailbox-ses" = build "aws-actionmailbox-ses" "0.1.0";
    "aws-eventstream" = build "aws-eventstream" "1.4.0";
    "aws-partitions" = build "aws-partitions" "1.1198.0";
    "aws-sdk-core" = build "aws-sdk-core" "3.240.0";
    "aws-sdk-kms" = build "aws-sdk-kms" "1.118.0";
    "aws-sdk-s3" = build "aws-sdk-s3" "1.208.0";
    "aws-sdk-sns" = build "aws-sdk-sns" "1.70.0";
    "aws-sigv4" = build "aws-sigv4" "1.12.1";
    "azure-storage-blob" = build "azure-storage-blob" "2.0.3";
    "azure-storage-common" = build "azure-storage-common" "2.0.4";
    barnes = build "barnes" "0.0.9";
    base64 = build "base64" "0.3.0";
    bcrypt = build "bcrypt" "3.1.20";
    bigdecimal = build "bigdecimal" "3.2.2";
    bindex = build "bindex" "0.8.1";
    bootsnap = build "bootsnap" "1.16.0";
    brakeman = build "brakeman" "5.4.1";
    browser = build "browser" "5.3.1";
    builder = build "builder" "3.3.0";
    bullet = build "bullet" "8.0.7";
    "bundle-audit" = build "bundle-audit" "0.1.0";
    "bundler-audit" = build "bundler-audit" "0.9.1";
    byebug = build "byebug" "11.1.3";
    childprocess = build "childprocess" "5.1.0";
    cld3 = build "cld3" "3.7.0";
    climate_control = build "climate_control" "1.2.0";
    coderay = build "coderay" "1.1.3";
    commonmarker = build "commonmarker" "0.23.10";
    "concurrent-ruby" = build "concurrent-ruby" "1.3.5";
    connection_pool = build "connection_pool" "2.5.3";
    crack = build "crack" "1.0.0";
    crass = build "crass" "1.0.6";
    csv = build "csv" "3.3.0";
    "csv-safe" = build "csv-safe" "3.3.1";
    database_cleaner = build "database_cleaner" "2.0.2";
    "database_cleaner-active_record" = build "database_cleaner-active_record" "2.1.0";
    "database_cleaner-core" = build "database_cleaner-core" "2.0.1";
    datadog = build "datadog" "2.19.0";
    "datadog-ruby_core_source" = build "datadog-ruby_core_source" "3.4.1";
    debug = build "debug" "1.8.0";
    declarative = build "declarative" "0.0.20";
    devise = build "devise" "4.9.4";
    "devise-secure_password" = build "devise-secure_password" "2.0.1";
    "devise-two-factor" = build "devise-two-factor" "6.1.0";
    devise_token_auth = build "devise_token_auth" "1.2.5";
    "diff-lcs" = build "diff-lcs" "1.5.1";
    "digest-crc" = build "digest-crc" "0.6.5";
    docile = build "docile" "1.4.1";
    domain_name = build "domain_name" "0.5.20190701";
    dotenv = build "dotenv" "3.1.2";
    "dotenv-rails" = build "dotenv-rails" "3.1.2";
    down = build "down" "5.4.0";
    drb = build "drb" "2.2.3";
    "dry-cli" = build "dry-cli" "1.1.0";
    "dry-configurable" = build "dry-configurable" "1.3.0";
    "dry-core" = build "dry-core" "1.1.0";
    "dry-inflector" = build "dry-inflector" "1.2.0";
    "dry-initializer" = build "dry-initializer" "3.2.0";
    "dry-logic" = build "dry-logic" "1.6.0";
    "dry-schema" = build "dry-schema" "1.14.1";
    "dry-types" = build "dry-types" "1.8.3";
    "ecma-re-validator" = build "ecma-re-validator" "0.4.0";
    "elastic-apm" = build "elastic-apm" "4.6.2";
    "email-provider-info" = build "email-provider-info" "0.0.1";
    email_reply_trimmer = build "email_reply_trimmer" "0.1.13";
    erubi = build "erubi" "1.13.0";
    "et-orbi" = build "et-orbi" "1.2.11";
    event_stream_parser = build "event_stream_parser" "1.0.0";
    execjs = build "execjs" "2.8.1";
    "facebook-messenger" = build "facebook-messenger" "2.0.1";
    factory_bot = build "factory_bot" "6.4.5";
    factory_bot_rails = build "factory_bot_rails" "6.4.3";
    faker = build "faker" "3.2.0";
    faraday = build "faraday" "2.14.1";
    "faraday-follow_redirects" = build "faraday-follow_redirects" "0.3.0";
    "faraday-mashify" = build "faraday-mashify" "1.0.0";
    "faraday-multipart" = build "faraday-multipart" "1.0.4";
    "faraday-net_http" = build "faraday-net_http" "3.4.2";
    "faraday-net_http_persistent" = build "faraday-net_http_persistent" "2.1.0";
    "faraday-retry" = build "faraday-retry" "2.2.1";
    "faraday_middleware-aws-sigv4" = build "faraday_middleware-aws-sigv4" "1.0.1";
    "fast-mcp" = build "fast-mcp" "1.5.0";
    fcm = build "fcm" "1.0.8";
    ffi = build "ffi" "1.17.2";
    "ffi-compiler" = build "ffi-compiler" "1.0.1";
    flag_shih_tzu = build "flag_shih_tzu" "0.3.23";
    foreman = build "foreman" "0.87.2";
    fugit = build "fugit" "1.11.1";
    "gapic-common" = build "gapic-common" "0.20.0";
    geocoder = build "geocoder" "1.8.1";
    gli = build "gli" "2.22.2";
    globalid = build "globalid" "1.2.1";
    gmail_xoauth = build "gmail_xoauth" "0.4.3";
    "google-apis-core" = build "google-apis-core" "0.15.1";
    "google-apis-iamcredentials_v1" = build "google-apis-iamcredentials_v1" "0.22.0";
    "google-apis-storage_v1" = build "google-apis-storage_v1" "0.47.0";
    "google-cloud-core" = build "google-cloud-core" "1.7.1";
    "google-cloud-dialogflow-v2" = build "google-cloud-dialogflow-v2" "0.31.0";
    "google-cloud-env" = build "google-cloud-env" "2.2.1";
    "google-cloud-errors" = build "google-cloud-errors" "1.3.1";
    "google-cloud-location" = build "google-cloud-location" "0.6.0";
    "google-cloud-storage" = build "google-cloud-storage" "1.52.0";
    "google-cloud-translate-v3" = build "google-cloud-translate-v3" "0.10.0";
    "google-protobuf" = build "google-protobuf" "3.25.7";
    "googleapis-common-protos" = build "googleapis-common-protos" "1.6.0";
    "googleapis-common-protos-types" = build "googleapis-common-protos-types" "1.20.0";
    googleauth = build "googleauth" "1.11.2";
    groupdate = build "groupdate" "6.2.1";
    grpc = build "grpc" "1.72.0";
    gserver = build "gserver" "0.0.1";
    haikunator = build "haikunator" "1.1.1";
    hairtrigger = build "hairtrigger" "1.0.0";
    hana = build "hana" "1.3.7";
    hash_diff = build "hash_diff" "1.1.1";
    hashdiff = build "hashdiff" "1.1.0";
    hashie = build "hashie" "5.0.0";
    html2text = build "html2text" "0.4.0";
    http = build "http" "5.1.1";
    "http-accept" = build "http-accept" "1.7.0";
    "http-cookie" = build "http-cookie" "1.0.5";
    "http-form_data" = build "http-form_data" "2.3.0";
    httparty = build "httparty" "0.24.0";
    httpclient = build "httpclient" "2.8.3";
    i18n = build "i18n" "1.14.7";
    image_processing = build "image_processing" "1.12.2";
    "iso-639" = build "iso-639" "0.3.8";
    jbuilder = build "jbuilder" "2.11.5";
    jmespath = build "jmespath" "1.6.2";
    "jquery-rails" = build "jquery-rails" "4.6.0";
    json_refs = build "json_refs" "0.1.8";
    json_schemer = build "json_schemer" "0.2.24";
    "judoscale-rails" = build "judoscale-rails" "1.8.2";
    "judoscale-ruby" = build "judoscale-ruby" "1.8.2";
    "judoscale-sidekiq" = build "judoscale-sidekiq" "1.8.2";
    jwt = build "jwt" "2.10.1";
    kaminari = build "kaminari" "1.2.2";
    "kaminari-actionview" = build "kaminari-actionview" "1.2.2";
    "kaminari-activerecord" = build "kaminari-activerecord" "1.2.2";
    "kaminari-core" = build "kaminari-core" "1.2.2";
    koala = build "koala" "3.4.0";
    "language_server-protocol" = build "language_server-protocol" "3.17.0.5";
    launchy = build "launchy" "3.1.1";
    letter_opener = build "letter_opener" "1.10.0";
    libdatadog = build "libdatadog" "18.1.0.1.0";
    libddwaf = build "libddwaf" "1.24.1.0.3";
    "line-bot-api" = build "line-bot-api" "1.28.0";
    lint_roller = build "lint_roller" "1.1.0";
    liquid = build "liquid" "5.4.0";
    listen = build "listen" "3.8.0";
    "llhttp-ffi" = build "llhttp-ffi" "0.4.0";
    lograge = build "lograge" "0.14.0";
    loofah = build "loofah" "2.23.1";
    mail = build "mail" "2.8.1";
    marcel = build "marcel" "1.0.4";
    maxminddb = build "maxminddb" "0.1.22";
    meta_request = build "meta_request" "0.8.5";
    method_source = build "method_source" "1.1.0";
    "mime-types" = build "mime-types" "3.4.1";
    "mime-types-data" = build "mime-types-data" "3.2023.0218.1";
    mini_magick = build "mini_magick" "4.12.0";
    mini_mime = build "mini_mime" "1.1.5";
    mini_portile2 = build "mini_portile2" "2.8.9";
    minitest = build "minitest" "5.25.5";
    mock_redis = build "mock_redis" "0.36.0";
    msgpack = build "msgpack" "1.8.0";
    multi_json = build "multi_json" "1.15.0";
    multi_xml = build "multi_xml" "0.8.0";
    "multipart-post" = build "multipart-post" "2.3.0";
    mutex_m = build "mutex_m" "0.3.0";
    neighbor = build "neighbor" "0.2.3";
    "net-http-persistent" = build "net-http-persistent" "4.0.2";
    "net-imap" = build "net-imap" "0.4.20";
    "net-pop" = build "net-pop" "0.1.2";
    "net-smtp" = build "net-smtp" "0.3.4";
    netrc = build "netrc" "0.11.0";
    "newrelic-sidekiq-metrics" = build "newrelic-sidekiq-metrics" "1.6.2";
    newrelic_rpm = build "newrelic_rpm" "9.6.0";
    nio4r = build "nio4r" "2.7.3";
    nokogiri = build "nokogiri" "1.18.9";
    oauth = build "oauth" "1.1.0";
    "oauth-tty" = build "oauth-tty" "1.0.5";
    oauth2 = build "oauth2" "2.0.9";
    oj = build "oj" "3.16.10";
    omniauth = build "omniauth" "2.1.4";
    "omniauth-google-oauth2" = build "omniauth-google-oauth2" "1.1.3";
    "omniauth-oauth2" = build "omniauth-oauth2" "1.8.0";
    "omniauth-rails_csrf_protection" = build "omniauth-rails_csrf_protection" "1.0.2";
    "omniauth-saml" = build "omniauth-saml" "2.2.4";
    "opensearch-ruby" = build "opensearch-ruby" "3.4.0";
    "opentelemetry-api" = build "opentelemetry-api" "1.7.0";
    "opentelemetry-common" = build "opentelemetry-common" "0.23.0";
    "opentelemetry-exporter-otlp" = build "opentelemetry-exporter-otlp" "0.31.1";
    "opentelemetry-registry" = build "opentelemetry-registry" "0.4.0";
    "opentelemetry-sdk" = build "opentelemetry-sdk" "1.10.0";
    "opentelemetry-semantic_conventions" = build "opentelemetry-semantic_conventions" "1.36.0";
    orm_adapter = build "orm_adapter" "0.5.0";
    os = build "os" "1.1.4";
    parallel = build "parallel" "1.27.0";
    parser = build "parser" "3.3.8.0";
    pg = build "pg" "1.5.3";
    pg_search = build "pg_search" "2.3.6";
    pgvector = build "pgvector" "0.1.1";
    "procore-sift" = build "procore-sift" "1.0.0";
    pry = build "pry" "0.14.2";
    "pry-rails" = build "pry-rails" "0.3.9";
    public_suffix = build "public_suffix" "6.0.2";
    puma = build "puma" "6.4.3";
    pundit = build "pundit" "2.3.0";
    raabro = build "raabro" "1.4.0";
    racc = build "racc" "1.8.1";
    rack = build "rack" "3.2.3";
    "rack-attack" = build "rack-attack" "6.7.0";
    "rack-contrib" = build "rack-contrib" "2.5.0";
    "rack-cors" = build "rack-cors" "2.0.0";
    "rack-mini-profiler" = build "rack-mini-profiler" "3.2.0";
    "rack-protection" = build "rack-protection" "4.2.1";
    "rack-proxy" = build "rack-proxy" "0.7.7";
    "rack-session" = build "rack-session" "2.1.1";
    "rack-test" = build "rack-test" "2.1.0";
    "rack-timeout" = build "rack-timeout" "0.6.3";
    rackup = build "rackup" "2.2.1";
    rails = build "rails" "7.1.5.2";
    "rails-dom-testing" = build "rails-dom-testing" "2.2.0";
    "rails-html-sanitizer" = build "rails-html-sanitizer" "1.6.1";
    railties = build "railties" "7.1.5.2";
    rainbow = build "rainbow" "3.1.1";
    rake = build "rake" "13.2.1";
    "rb-fsevent" = build "rb-fsevent" "0.11.2";
    "rb-inotify" = build "rb-inotify" "0.10.1";
    redis = build "redis" "5.0.6";
    "redis-client" = build "redis-client" "0.22.2";
    "redis-namespace" = build "redis-namespace" "1.10.0";
    regexp_parser = build "regexp_parser" "2.10.0";
    representable = build "representable" "3.2.0";
    request_store = build "request_store" "1.5.1";
    responders = build "responders" "3.1.1";
    "rest-client" = build "rest-client" "2.1.0";
    retriable = build "retriable" "3.1.2";
    reverse_markdown = build "reverse_markdown" "2.1.1";
    rexml = build "rexml" "3.4.4";
    rotp = build "rotp" "6.3.0";
    "rspec-core" = build "rspec-core" "3.13.0";
    "rspec-expectations" = build "rspec-expectations" "3.13.2";
    "rspec-mocks" = build "rspec-mocks" "3.13.1";
    "rspec-rails" = build "rspec-rails" "7.0.1";
    "rspec-support" = build "rspec-support" "3.13.1";
    rspec_junit_formatter = build "rspec_junit_formatter" "0.6.0";
    rubocop = build "rubocop" "1.75.6";
    "rubocop-ast" = build "rubocop-ast" "1.44.1";
    "rubocop-factory_bot" = build "rubocop-factory_bot" "2.27.1";
    "rubocop-performance" = build "rubocop-performance" "1.25.0";
    "rubocop-rails" = build "rubocop-rails" "2.32.0";
    "rubocop-rspec" = build "rubocop-rspec" "3.6.0";
    "ruby-openai" = build "ruby-openai" "7.3.1";
    "ruby-progressbar" = build "ruby-progressbar" "1.13.0";
    "ruby-saml" = build "ruby-saml" "1.18.1";
    "ruby-vips" = build "ruby-vips" "2.1.4";
    ruby2ruby = build "ruby2ruby" "2.5.0";
    ruby_llm = build "ruby_llm" "1.8.2";
    "ruby_llm-schema" = build "ruby_llm-schema" "0.2.5";
    ruby_parser = build "ruby_parser" "3.20.0";
    sass = build "sass" "3.7.4";
    "sass-listen" = build "sass-listen" "4.0.0";
    sassc = build "sassc" "2.4.0";
    "sassc-rails" = build "sassc-rails" "2.1.2";
    scout_apm = build "scout_apm" "5.3.3";
    scss_lint = build "scss_lint" "0.60.0";
    searchkick = build "searchkick" "5.5.2";
    seed_dump = build "seed_dump" "3.3.1";
    "selectize-rails" = build "selectize-rails" "0.12.6";
    "sentry-rails" = build "sentry-rails" "5.19.0";
    "sentry-ruby" = build "sentry-ruby" "5.19.0";
    "sentry-sidekiq" = build "sentry-sidekiq" "5.19.0";
    sexp_processor = build "sexp_processor" "4.17.0";
    shopify_api = build "shopify_api" "14.8.0";
    "shoulda-matchers" = build "shoulda-matchers" "5.3.0";
    sidekiq = build "sidekiq" "7.3.1";
    "sidekiq-cron" = build "sidekiq-cron" "1.12.0";
    sidekiq_alive = build "sidekiq_alive" "2.5.0";
    signet = build "signet" "0.17.0";
    simplecov = build "simplecov" "0.22.0";
    "simplecov-html" = build "simplecov-html" "0.13.2";
    simplecov_json_formatter = build "simplecov_json_formatter" "0.1.4";
    "slack-ruby-client" = build "slack-ruby-client" "2.7.0";
    snaky_hash = build "snaky_hash" "2.0.1";
    "sorbet-runtime" = build "sorbet-runtime" "0.5.11934";
    spring = build "spring" "4.1.1";
    "spring-watcher-listen" = build "spring-watcher-listen" "2.1.0";
    sprockets = build "sprockets" "4.2.1";
    "sprockets-rails" = build "sprockets-rails" "3.4.2";
    squasher = build "squasher" "0.7.2";
    stackprof = build "stackprof" "0.2.25";
    "statsd-ruby" = build "statsd-ruby" "1.5.0";
    stripe = build "stripe" "18.0.1";
    telephone_number = build "telephone_number" "1.4.20";
    "test-prof" = build "test-prof" "1.2.1";
    thor = build "thor" "1.4.0";
    tidewave = build "tidewave" "0.2.0";
    tilt = build "tilt" "2.3.0";
    time_diff = build "time_diff" "0.3.0";
    "trailblazer-option" = build "trailblazer-option" "0.1.2";
    "twilio-ruby" = build "twilio-ruby" "7.6.0";
    twitty = build "twitty" "0.1.5";
    tzinfo = build "tzinfo" "2.0.6";
    "tzinfo-data" = build "tzinfo-data" "1.2023.3";
    uber = build "uber" "0.1.0";
    uglifier = build "uglifier" "4.2.0";
    unf = build "unf" "0.1.4";
    unf_ext = build "unf_ext" "0.0.8.2";
    "unicode-display_width" = build "unicode-display_width" "3.1.4";
    "unicode-emoji" = build "unicode-emoji" "4.0.4";
    uniform_notifier = build "uniform_notifier" "1.17.0";
    uri_template = build "uri_template" "0.7.0";
    valid_email2 = build "valid_email2" "5.2.6";
    version_gem = build "version_gem" "1.1.4";
    vite_rails = build "vite_rails" "3.0.17";
    vite_ruby = build "vite_ruby" "3.8.0";
    warden = build "warden" "1.2.9";
    "web-console" = build "web-console" "4.2.1";
    "web-push" = build "web-push" "3.0.1";
    webmock = build "webmock" "3.23.1";
    "websocket-driver" = build "websocket-driver" "0.7.7";
    "websocket-extensions" = build "websocket-extensions" "0.1.5";
    wisper = build "wisper" "2.0.0";
    working_hours = build "working_hours" "1.4.1";
    zeitwerk = build "zeitwerk" "2.6.17";
  };

  bundlePath = pkgs.buildEnv {
    name = "chatwoot-bundle";
    paths = builtins.attrValues gems;
  };
in gems // {
  inherit bundlePath;
  devShell = { buildInputs ? [], shellHook ? "", ... }@args:
    pkgs.mkShell (builtins.removeAttrs args ["buildInputs" "shellHook"] // {
      name = "chatwoot-devshell";
      buildInputs = [ ruby ] ++ buildInputs;
      shellHook = ''
        export BUNDLE_PATH="${bundlePath}"
        export BUNDLE_GEMFILE="''${BUNDLE_GEMFILE:-$PWD/Gemfile}"
        export GEM_PATH="${bundlePath}/${ruby.gemPath}''${GEM_PATH:+:$GEM_PATH}"
      '' + shellHook;
    });
}
